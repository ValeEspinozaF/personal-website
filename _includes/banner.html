<div class="banner d-flex justify-content-between align-items-center mb-5" style="background-color: #f0f0f0; height: 60px">
    <div class="en d-flex col-12 col-xl-11 col-lg-11 col-md-11">
        <a href="/personal-website/tab_research" class="topic-link d-flex justify-content-center align-items-center text-gray" style="flex: 1; display: flex; justify-content: center; align-items: center; text-align: center;">
            <p style="line-height: 1.5; margin: 0;">RESEARCH</p>
        </a>
        <a href="/personal-website/tab_outreach" class="topic-link d-flex justify-content-center align-items-center text-gray" style="flex: 1; display: flex; justify-content: center; align-items: center; text-align: center;">
            <p style="line-height: 1.5; margin: 0;">OUTREACH</p>
        </a>
        <a href="/personal-website/tab_curriculum" class="topic-link d-flex justify-content-center align-items-center text-gray" style="flex: 1; display: flex; justify-content: center; align-items: center; text-align: center;">
            <p style="line-height: 1.5; margin: 0;">CURRICULUM</p>
        </a>
    </div>
    <div class="es hidden d-flex col-12 col-xl-11 col-lg-11 col-md-11">
        <a href="/personal-website/tab_research" class="topic-link d-flex justify-content-center align-items-center text-gray" style="flex: 1; display: flex; justify-content: center; align-items: center; text-align: center;">
            <p style="line-height: 1.5; margin: 0;">INVESTIGACI&OacuteN</p>
        </a>
        <a href="/personal-website/tab_outreach" class="topic-link d-flex justify-content-center align-items-center text-gray" style="flex: 1; display: flex; justify-content: center; align-items: center; text-align: center;">
            <p style="line-height: 1.5; margin: 0;">DISEMINACI&OacuteN</p>
        </a>
        <a href="/personal-website/tab_curriculum" class="topic-link d-flex justify-content-center align-items-center text-gray" style="flex: 1; display: flex; justify-content: center; align-items: center; text-align: center;">
            <p style="line-height: 1.5; margin: 0;">CURRICULUM</p>
        </a>
    </div>
    <div class="hide-on-small d-flex justify-content-end col-xl-1 col-lg-1 col-md-1">
        <a id="language-toggle" class="language-link me-2" href="#" onclick="toggleLanguage(event)">
            {% octicon globe height:16 class:"mr-1 v-align-middle" fill:"#586069" aria-label:globe %}
            <span class="language-text">EN</span>
        </a>
    </div>
</div>

<script>
    // Set the default language based on localStorage
    let currentLanguage = localStorage.getItem('language') || 'en';

    // Function to toggle language and store the preference
    function toggleLanguage(event) {
        event.preventDefault();
        
        const languageText = document.getElementById('language-text');
        const englishContent = document.querySelectorAll('.en');
        const spanishContent = document.querySelectorAll('.es');

        // Toggle between languages
        if (currentLanguage === 'en') {
            currentLanguage = 'es';
            languageText.textContent = 'ES';
            englishContent.forEach(element => element.classList.add('hidden'));
            spanishContent.forEach(element => element.classList.remove('hidden'));
        } else {
            currentLanguage = 'en';
            languageText.textContent = 'EN';
            englishContent.forEach(element => element.classList.remove('hidden'));
            spanishContent.forEach(element => element.classList.add('hidden'));
        }

        // Store the current language in localStorage
        localStorage.setItem('language', currentLanguage);
    }

    // Function to set the language based on saved preference
    function setLanguageOnLoad() {
        const languageText = document.getElementById('language-text');
        const englishContent = document.querySelectorAll('.en');
        const spanishContent = document.querySelectorAll('.es');

        if (currentLanguage === 'es') {
            languageText.textContent = 'ES';
            englishContent.forEach(element => element.classList.add('hidden'));
            spanishContent.forEach(element => element.classList.remove('hidden'));
        } else {
            languageText.textContent = 'EN';
            englishContent.forEach(element => element.classList.remove('hidden'));
            spanishContent.forEach(element => element.classList.add('hidden'));
        }
    }

    // Initialize language setting on page load
    document.addEventListener('DOMContentLoaded', setLanguageOnLoad);
</script>
